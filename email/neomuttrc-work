# vim: ft=neomuttrc

unvirtual-mailboxes *
source ~/.neomuttrc-env-work

set sidebar_width = 30
push "<change-vfolder>B: backlog<Enter>"

virtual-mailboxes "B: backlog"     "notmuch://?query=not tag:trash and not tag:deleted and not tag:TheNewPaper and not tag:keep and not tag:orders and not tag:lists and not tag:github and not tag:arch-lists and not tag:asana and not tag:newsletters and not tag:notifications and not tag:sent and not tag:conversations"
virtual-mailboxes "a: all_mail"    "notmuch://?query=*"
virtual-mailboxes "b: inbox"       "notmuch://?query=tag:inbox and NOT tag:archive"
virtual-mailboxes "C: calendar"    "notmuch://?query=tag:calendar"
virtual-mailboxes "c: conversations" "notmuch://?query=tag:conversations"
virtual-mailboxes "n: notifications" "notmuch://?query=tag:notifications"
virtual-mailboxes "u: unread"      "notmuch://?query=tag:unread"
virtual-mailboxes "i: important"   "notmuch://?query=tag:important"
# virtual-mailboxes "K: keep"        "notmuch://?query=tag:keep"
virtual-mailboxes "E: sent"        "notmuch://?query=tag:sent"

virtual-mailboxes "J: jira"      "notmuch://?query=tag:jira"
virtual-mailboxes "j: jira (u)"  "notmuch://?query=tag:jira and tag:unread"

virtual-mailboxes "G: github"      "notmuch://?query=tag:github"
virtual-mailboxes "g: github (u)"  "notmuch://?query=tag:github and tag:unread"
virtual-mailboxes "   gh_subscribed"  "notmuch://?query=tag:gh_subscribed"
virtual-mailboxes "   gh_author"  "notmuch://?query=tag:gh_author"
virtual-mailboxes "   gh_reviewing"  "notmuch://?query=tag:gh_reviewing"

virtual-mailboxes "A: asana"       "notmuch://?query=tag:asana"
virtual-mailboxes "N: newsletters" "notmuch://?query=tag:newsletters"
virtual-mailboxes "l: lists"       "notmuch://?query=tag:lists"\
virtual-mailboxes "   attachment"  "notmuch://?query=tag:attachment"
virtual-mailboxes "D: deleted"       "notmuch://?query=tag:deleted"

macro index bB "<change-vfolder>B: backlog\n"
macro index ba "<change-vfolder>a: all_mail\n"
macro index bc "<change-vfolder>c: conversations\n"
macro index bn "<change-vfolder>n: notifications\n"
macro index bb "<change-vfolder>b: inbox\n"
macro index bu "<change-vfolder>u: unread\n"
macro index bi "<change-vfolder>i: important\n"
# macro index bK "<change-vfolder>K: keep\n"
macro index bE "<change-vfolder>E: sent\n"
macro index bJ "<change-vfolder>J: jira\n"
macro index bj "<change-vfolder>j: jira (u)\n"
macro index bG "<change-vfolder>G: github\n"
macro index bg "<change-vfolder>g: github (u)\n"
macro index bA "<change-vfolder>A: asana\n"
macro index bN "<change-vfolder>N: newsletters\n"
macro index bl "<change-vfolder>l: lists\n"
macro index bD "<change-vfolder>D: deleted\n"

# Tagging commands
macro index R "<modify-labels>+unread +inbox\n"
macro index r "<modify-labels>-unread -inbox\n"
macro index u "<modify-labels>-unread\n"
macro index i "<modify-labels>+inbox\n"
macro index I "<modify-labels>!important\n"
# macro index,pager K  "<modify-labels>!keep\n"
macro index,pager d  "<modify-labels>-inbox -unread +deleted\n"
macro index,pager D  "<modify-labels>-deleted\n"

macro index,pager X "<modify-labels-then-hide>-inbox -unread -important +notifications\n"
macro index,pager C "<modify-labels-then-hide>-inbox -unread -important +conversations\n"

macro index,pager mC "<modify-labels-then-hide>-inbox -unread -important !calendar\n"
macro index,pager mo "<modify-labels-then-hide>-inbox -unread -important !orders\n"
macro index,pager mb "<modify-labels-then-hide>-inbox -unread -important +inbox\n"
macro index,pager md "<modify-labels-then-hide>-inbox -unread -important !deleted\n"
macro index,pager mi "<modify-labels-then-hide>-inbox -unread !important\n"
macro index,pager mn "<modify-labels-then-hide>-inbox -unread -important !notifications\n"
macro index,pager mN "<modify-labels-then-hide>-inbox -unread -important !newsletters\n"
macro index,pager mc "<modify-labels-then-hide>-inbox -unread -important !conversations\n"
macro index,pager mC "<modify-labels-then-hide>-inbox -unread -important !calendar\n"
