#!/bin/sh

home () {
  notmuch-home $@
}
work () {
  notmuch-home $@
}
both () {
  notmuch-home $@
  notmuch-work $@
}

# First, do some basic post-proccesing
both tag -unnotified tag:github or tag:trello
# new_mail=`both search tag:unnotified | wc -l | awk '{print $1}'`
# if [ $new_mail != '0' ]; then
#   [ $OPERATING_SYSTEM = 'osx' ] && \
#     osascript -e 'display notification "'"$new_messages"'new messages" with title "notmuch"'
# fi
both tag -unnotified tag:unnotified

# Use the "deleted" tag to use trash that isn't auto-deleted, but maked safe to move to trash
both tag +deleted -trash tag:trash

# Github
both tag +github from:github.com
both tag -important +notifications tag:github and 'from:notifications@github.com'
both tag -important tag:github

# Asana
both tag -important +asana +notifications 'from:asana.com'

# Fortnox
work tag +notifications 'subject:Du har fått ett nytt lönebesked'

# Cobalt notifs
work tag +notifications 'subject:Invitation to submit data to'

# NPR Newsletters
home tag +NPR 'from:nl.npr.org'
home tag -deleted tag:NPR

# Mail lists
work tag +lists +pypy-dev 'from:pypy-dev-request@python.org'

# both tag +deleted tag:github and not tag:unread and not tag:deleted
# both tag +deleted tag:asana and not tag:unread and not tag:deleted

